---
layout: post
title:  "Flask로 카카오톡 chatbot 만들기 (DSM Bot 제작기 [0]) - 계기 및 기능 명세"
date:   2017-12-22
excerpt: "DSM Bot을 만들게 된 계기와 기능 명세"
tag: 
- DSM Bot
- chatbot
comments: true
---

## 계기
---
대덕소프트웨어 마이스터고등학교에는 DMS(Dormitory Management System)라는 학교 기숙사 관리시스템이 있다.  
DMS로 급식 확인, 잔류 귀가 신청, 외출 신청 등 기숙사 생활을 하며 필요한 일들을 간단하게 할 수 있다.  
하지만 DMS가 모바일 웹에 호환이 안되어 스마트폰 웹 브라우저로 들어가게 되면 웹이 깨지게 되어서 기숙사 시스템을 이용하는데 어려움이 있었다.  
DMS의 기능을 핸드폰에서도 쉽게 사용할 수 있게 하기 위해 DSM Bot이라는 카카오톡 자동응답 api를 사용하여 chatbot을 만들기로 하였다.  

## 기능 명세
---
1. 급식을 확인할 수 있어야 한다.
2. 잔류 귀가 신청을 할 수 있어야 한다.
3. 고양이를 볼 수 있어야 한다. (핵심기능)  

## 기능 구현 방법
---
* 급식
    * NEIS 에서 급식을 파싱하여 DB에 저장을 한 뒤 챗봇에 급식을 보내달라는 리퀘스트가 올 때 마다 리스폰스를 해준다.
    * 외부 모듈을 받아와 사용한다.
* 잔류 귀가 신청
    * DMS의 api서버 인터페이스를 체크하여 챗봇에 귀가 잔류 신청을 해달라는 요청이 올 때마다 DMS 서버에 리퀘스트를 보내고 리스폰스를 받아 결과값을 리스폰스 해준다.
* 고양이
    * 상업적 이용이 가능한 이미지 사진들을 크롤링하여 저장한 후 고양이 사진을 달라는 리퀘스트가 올 때 마다 리스폰스를 해준다.
    * 리퀘스트가 올 때 마다 이미지 사진들을 크롤링하여 바로 리퀘스트를 해준다.  

## 기술 스택
* Python
    * Flask
    * pymongo
* DB
    * mongoDB
* AWS
    * EC2
    * ELB
    * Route53